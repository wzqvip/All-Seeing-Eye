<template>
    **<div>**
        **<input v-model="message" placeholder="Enter something" />**
        **<button @click="sendToBackend">**Send**</button>**
    **</div>**
</template>

### 要求：

发送一个这样的包到后端来：{type:int, content:string, is_audio_input:bool, audio_input:(audio clip eg:mp3), gen_img:bool}

1.关于图片：我会发送这样一个包：{type:int, content:string, img:URL}回来，可以直接使用URL调用图片，也可以使用/api/get_image的get请求来请求图片

2.关于音频输入：is_audio_input == True的时候说明用户输入的是音频, 这个时候要通过post将音频发到/api/uploadMP3

### **示例：**

#### **Vue前端（由****ChatGPT生成）：**

<template>
    **<div>**
        **<input v-model="message.content" placeholder="Enter content" />**
        **<input v-model="message.type" placeholder="Enter type" />**
        **<button @click="sendToBackend">**Send**</button>**
    **</div>**
</template>

**`<script>`**
**import** axios **from** **'axios'**;

**export** **default** {
    **data**(****) {
        **return** {
            **message**: {
                **type**: **0**,   **// 这里设置你的默认type值**
                **content**: **''**  **// 这里设置你的默认content值**
            }
        }
    },
    **methods**: {
        **async** **sendToBackend**(****) {
            **try** {
                **const** response = **await** axios.**post**(**'http://localhost:5000/api'**, **this**.**message**);
                **console**.**log**(response.**data**);  **//处理后端返回的响应**
                **// 你可以这样访问返回的数据：**
                **// console.log(response.data.type);**
                **// console.log(response.data.content);**
            } **catch** (error) {
                **console**.**error**(error);
            }
        }
    }
}
**`</script>`**

#### 请求图片

python:

```
    myobj = {
        "type": 1,
        "content": "And draw a scenery picture!",
        "is_audio_input": False,
        "audio_input": "",
        "gen_img": True
    }
    x = requests.post(url, json = myobj)
    print(x.text)
    image_url = url+"/get_image"
    response = requests.get(image_url)
    if response.status_code == 200:
        # 以二进制写入的方式打开一个文件
        with open(img_save_path/img_name, "wb") as file:
            # 将图片内容写入文件中
            file.write(response.content)
    exit()
```

#### 发送音频：

python:

```
    myobj = {
        "type": 1,
        "content": "",
        "is_audio_input": True,
        "audio_input": "",
        "gen_img": False
    }

    voice = {'file': voice_google_frontend_engineer}
    response = requests.post(url+'/uploadMP3', files=voice)
    x = requests.post(url, json = myobj)
    print(x.text)
    exit()
```

### Type和Content分别是什么：

Type:

1对应生成找工作几率和建议，2对应人生建议和规划，3对应模拟预测未来。

4之类的没有想，可以加上生成图像等等的功能，或者接受视频和音频输入这些...
